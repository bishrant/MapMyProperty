<div>
  <fa-icon class="float-right cursor-pointer text-pmlo_secondary" [icon]="faQuestionCircle" (click)="openHelp()"></fa-icon>
  <br>
  <form [formGroup]="printForm">
    <strong>Title</strong><br>
    <mat-form-field appearance="outline" class="fullWidthInput">
      <input matInput placeholder="Enter title" type="text" formControlName="title" aria-label="Enter Map title" />
    </mat-form-field><br>

    <strong>Comments</strong><br>

    <mat-form-field appearance="outline" class="fullWidthInput my-form-field">
      <textarea matInput placeholder="Enter comments" type="text" aria-label="Enter Map title"
        [errorStateMatcher]="matcher" id="comments" formControlName="comments" cdkTextareaAutosize maxlength="300"
        cdkAutosizeMinRows="3" cdkAutosizeMaxRows="6"></textarea>

    </mat-form-field>

    <span [style.color]="printForm?.controls.comments.value.length > MAX ? 'red': 'black'" style="float: right;">
      {{printForm?.controls.comments.value.length}}/{{MAX}}
    </span>
    <span *ngIf="comments?.errors?.commentsLineBreaksInvalid" style="color: red; font-size: 10px">
      Maximum of {{MAXLINES}} line breaks are allowed.
    </span>
    <br><br>
    <div class="centerAlign">
      <label class="inline-flex items-center mt-3">
        <input type="checkbox" class="form-checkbox h-5 w-5 text-mmp_primary" [(ngModel)]="showCurrentDate"
          [ngModelOptions]="{standalone: true}">
        <span class="ml-2 text-black">Show Current Date</span>
      </label>
    </div>
    <br>

    <div class="centerAlign">
      <button type="button" (click)="showPrintMapPreview()" [disabled]="printForm.invalid"
        class="mmp-primary primary-button">
        Preview
      </button>
    </div>
  </form>
</div>

<app-modal #printMapModal [maximizable]="false" [backdrop]="true" [headerBackgroundColor]="'black'" (closeModal)="previewClosed()">
  <ng-container class="app-modal-header">Map Preview</ng-container>
  <ng-container class="app-modal-body">
    <div #modalMapViewNode class="mapViewNode"> </div>
  </ng-container>
  <ng-container class="app-modal-footer">
    <div class="footer">
      <button type="button" class="mmp-primary primary-button" (click)="generatePDF()">
        Generate PDF
      </button>
    </div>

  </ng-container>
</app-modal>
