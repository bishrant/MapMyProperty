<mat-expansion-panel [expanded]="true" color="black">
    <mat-expansion-panel-header>
        <mat-panel-title>
            Draw
        </mat-panel-title>

    </mat-expansion-panel-header>

    <div>
        <div class="centerAlign">
            <mat-button-toggle-group [(ngModel)]="drawingTool" (change)="startDrawingGraphics($event.value)">
                <mat-button-toggle value="circle" aria-label="Circle" class="toggleBtn">
                    <mat-icon>radio_button_unchecked</mat-icon>
                </mat-button-toggle>
                <mat-button-toggle value="line" aria-label="Line" class="toggleBtn">
                    <mat-icon>show_chart</mat-icon>
                </mat-button-toggle>
                <mat-button-toggle value="polygon" aria-label="Polygon" class="toggleBtn">
                    <i class="icon-untitled"></i>
                </mat-button-toggle>
                <mat-button-toggle value="point" aria-label="Point" class="toggleBtn">
                    <mat-icon>fiber_manual_record</mat-icon>
                </mat-button-toggle>
                <mat-button-toggle value="text" aria-label="Text" class="toggleBtn">
                    Tt
                </mat-button-toggle>
            </mat-button-toggle-group>
        </div>
        <!-- <div class="example-selected-value">Selected value: {{group.value}}</div> -->
        <!-- <button mat-raised-button class="graphicsControls1" (click)="startDrawingGraphics('polygon')">Polygon</button>
        <button mat-raised-button class="graphicsControls1" (click)="startDrawingGraphics('circle')">Circle</button> -->
        <br>
        <fieldset>
            <legend>Drawing mode</legend>
            <button mat-icon-button
                matTooltip="Specifies how vertices are added while the graphic can be created. Applies only while creating polygon, polyline and circle geometries."
                aria-label="Button that shows a red tooltip" [matTooltipPosition]="'left'" class="infoBtn">
                <mat-icon class="smallIcon">info</mat-icon>
            </button>
            <mat-button-toggle-group name="drawingMode" aria-label="Drawing Mode" [(ngModel)]="drawingMode"
                (change)="changeDrawingMode($event)">

                <mat-button-toggle value="click" class="drawModeBtn">Click</mat-button-toggle>
                <mat-button-toggle value="freehand" class="drawModeBtn">FreeHand</mat-button-toggle>
                <mat-button-toggle value="hybrid" class="drawModeBtn" [disabled]="drawingTool === 'circle'">Hybrid
                </mat-button-toggle>
            </mat-button-toggle-group>
            <mat-form-field appearance="outline" [hidden]="!((drawingTool === 'circle') && (drawingMode === 'click'))">
                <input matInput placeholder="Radius" type="number" [(ngModel)]="radius"
                    (ngModelChange)="_radiusChanged($event)">
            </mat-form-field>
        </fieldset>
        <br>


        <br>
        <div style="display: flex;">
            <div style="flex-grow: 1;">
                Line Style:<br>

                <mat-select [(ngModel)]="lineStyle" class="matSelect" (selectionChange)="changeGraphicsStyle()">
                    <mat-select-trigger>
                        <svg-icon *ngIf="lineStyle !== 'none'" [src]="'assets/icons/symbols-sls-'+lineStyle+'.svg'"
                            [svgStyle]="{ 'width.px':150, 'fill':lineColor }"></svg-icon>
                        <span *ngIf="lineStyle === 'none'">None</span>
                    </mat-select-trigger>
                    <mat-option *ngFor="let style of lineStyles | keyvalue" [value]="style.value">
                        <svg-icon *ngIf="style.value !== 'none'" [src]="'assets/icons/symbols-sls-'+style.value+'.svg'"
                            [svgStyle]="{ 'width.px':150, 'fill':lineColor }"></svg-icon>
                        <span *ngIf="style.value === 'none'">None</span>
                    </mat-option>
                </mat-select>

            </div>
            <div>
                <app-color-picker [color]="lineColor" [opacity]="lineOpacity" (colorSelected)="changeColor($event)">
                </app-color-picker>
            </div>
        </div>
        <div>
            Width<br>
            0 &nbsp;<mat-slider class="widthSlider mat-slider-has-ticks" [thumbLabel]="true" step="1" tickInterval="1"
                (change)="changeGraphicsStyle()" [(ngModel)]="lineWidth" min="0" max="10">
            </mat-slider> &nbsp;10
        </div>


        {{sketchVM.activeTool}} {{sketchVM.state}}
        {{drawingTool}}
    </div>
    <!-- <div style="background: red; color:white">Works almost. not perfect !!!. Wait a day or so</div> -->
</mat-expansion-panel>